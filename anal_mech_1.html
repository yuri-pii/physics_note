<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>解析力学まとめノート（本質中心）</title>
  <style>
    /* A4 白黒印刷向け */
    @page { size: A4; margin: 16mm; }
    @media print {
      a { text-decoration: none; color: #000; }
      .no-print { display: none; }
    }
    body{
      font-family: "Noto Serif JP", "Hiragino Mincho ProN", "Yu Mincho", serif;
      color:#000; background:#fff;
      line-height:1.55;
      font-size: 11.5pt;
      margin:0;
    }
    h1,h2,h3{ margin: 0.6em 0 0.3em; }
    h1{ font-size: 18pt; border-bottom: 2px solid #000; padding-bottom: 4px; }
    h2{ font-size: 14pt; border-left: 4px solid #000; padding-left: 8px; }
    h3{ font-size: 12.5pt; border-bottom: 1px solid #000; padding-bottom: 2px; }
    p{ margin: 0.2em 0 0.6em; }
    .box{
      border: 1px solid #000;
      padding: 10px 12px;
      margin: 10px 0 14px;
    }
    .rule{
      border-top:1px solid #000;
      margin: 10px 0;
    }
    .two{
      display:flex;
      gap: 12px;
      align-items: flex-start;
    }
    .col{ flex:1; min-width: 0; }
    .mono{
      font-family: ui-monospace, "SFMono-Regular", Menlo, Consolas, "Liberation Mono", monospace;
      font-size: 10.5pt;
      white-space: pre-wrap;
    }
    ul{ margin: 0.2em 0 0.6em 1.1em; padding:0; }
    li{ margin: 0.15em 0; }
    .small{ font-size: 10.5pt; }
    .eq{
      border-left: 3px solid #000;
      padding: 6px 10px;
      margin: 8px 0 10px;
    }
    .eq .mono{ white-space: pre; }
    .tag{
      display:inline-block;
      border:1px solid #000;
      padding: 1px 6px;
      margin-right:6px;
      font-size: 10pt;
    }
    .kbd{
      border:1px solid #000;
      padding: 0 4px;
      font-family: ui-monospace, monospace;
      font-size: 10pt;
    }
  </style>
</head>

<body>
  <h1>解析力学まとめノート（本質中心 / 参照用）</h1>

  <div class="box">
    <h2>0. 解析力学をどう見るか（あなたの理解に沿う要約）</h2>
    <p>
      解析力学は「運動方程式を解く技法」ではなく、
      <b>運動を“無限次元の最適化（停留）問題”として読む言語</b>。
      重要なのは「最小化」ではなく<b>一次の変化が消える（停留）</b>という構造。
    </p>
    <ul>
      <li><span class="tag">視点</span> 運動 = 時刻ごとの状態の列ではなく、<b>経路 q(t) そのもの</b>。</li>
      <li><span class="tag">原理</span> 自然は「目的を持って最小にする」のではなく、<b>近傍と一次で区別がつかない経路</b>が残る。</li>
      <li><span class="tag">対称性</span> 「最適化問題（作用）が不変」なら、その冗長性が<b>保存量</b>として凍結する（Noether）。</li>
    </ul>
  </div>

  <div class="box">
    <h2>1. 基本の対象・用語（忘れやすい定義）</h2>

    <div class="two">
      <div class="col">
        <h3>1.1 配置空間と状態</h3>
        <ul>
          <li><b>一般化座標</b>：q = (q<sub>1</sub>,…,q<sub>n</sub>)</li>
          <li><b>速度</b>：q̇ = dq/dt</li>
          <li><b>状態</b>（ラグランジュ形式）：(q, q̇) が「未来を決める最小情報」になるのが標準形</li>
        </ul>
      </div>
      <div class="col">
        <h3>1.2 ラグランジアンと作用</h3>
        <ul>
          <li><b>ラグランジアン</b>：L = L(q, q̇, t)</li>
          <li><b>作用（Action）</b>：S[q] = ∫ L dt（経路 q(t) を入れると数が返る<b>汎関数</b>）</li>
          <li><b>変分原理</b>：δS = 0（停留条件）</li>
        </ul>
      </div>
    </div>

    <div class="rule"></div>

    <h3>1.3 状態量（state function）と経路量</h3>
    <ul>
      <li><b>状態量</b>：系の「今の状態」だけで値が一意に決まり、履歴に依らない量（例：V(q), E, S など）。</li>
      <li><b>経路量</b>：どう来たか（経路）に依存する量（例：仕事 W、熱 Q）。</li>
      <li>保存力かどうかの実用判定：<b>位置だけのポテンシャル V(q) が定義できるか</b>。</li>
    </ul>
  </div>

  <div class="box">
    <h2>2. 微分と変分（記号の意味を固定する）</h2>

    <div class="two">
      <div class="col">
        <h3>2.1 微分（時間方向）</h3>
        <p class="mono">q̇(t) = dq(t)/dt</p>
        <ul>
          <li>同じ関数 q(t) の上で、独立変数 t を動かして変化を見る。</li>
        </ul>
      </div>
      <div class="col">
        <h3>2.2 変分（関数空間方向）</h3>
        <div class="mono">q(t) → q(t) + ε η(t)
δq(t) := (d/dε)[q(t)+εη(t)]|_{ε=0} = η(t)</div>
        <ul>
          <li>独立変数 t は固定し、関数そのものを別の関数へ“揺らす”。</li>
          <li>端点固定の変分：η(t<sub>1</sub>)=η(t<sub>2</sub>)=0 を課すのが基本。</li>
        </ul>
      </div>
    </div>

    <div class="eq">
      <div class="mono">重要な交換則（十分滑らかな経路で）：
δ(q̇) = d(δq)/dt</div>
      <p class="small">
        δ は ε 方向、d/dt は t 方向の微分。独立な方向なので交換できる。
        衝突・不連続などで滑らかさが壊れると注意が必要。
      </p>
    </div>
  </div>

  <div class="box">
    <h2>3. 停留条件（stationary condition）の核心</h2>
    <p>
      「最小」ではなく<b>一次の変化がゼロ</b>。
      最小・最大・鞍点をすべて含む（停留点）。
    </p>

    <div class="two">
      <div class="col">
        <h3>3.1 有限次元の比喩</h3>
        <div class="mono">f(x+ε)-f(x) = ε f'(x) + O(ε^2)
停留条件：f'(x)=0</div>
        <p class="small">一次の項が消え、二次以降だけが残る。</p>
      </div>
      <div class="col">
        <h3>3.2 無限次元（変分法）</h3>
        <div class="mono">S[q+εη] = S[q] + ε δS[q;η] + O(ε^2)
停留条件：δS=0（任意の η に対して）</div>
        <p class="small">「近傍の経路と一次で区別がつかない」という直感に対応。</p>
      </div>
    </div>
  </div>

  <div class="box">
    <h2>4. オイラー＝ラグランジュ方程式（最重要式）</h2>

    <p>
      作用 S[q] = ∫ L(q, q̇, t) dt の停留条件 δS=0 から、運動方程式が出る。
      （1自由度で書く。多自由度は i ごとに同形。）
    </p>

    <div class="eq">
      <div class="mono">オイラー＝ラグランジュ方程式：
d/dt ( ∂L/∂q̇ )  −  ∂L/∂q  = 0</div>
    </div>

    <p class="small">
      典型形（保存力）では L = T(q̇,q) − V(q,t) を採用する。
      ただし「L=T−V」は定義というより、観測事実と要請（局所性・座標不変性・安定性）を満たす最小の選択として理解する。
    </p>
  </div>

  <div class="box">
    <h2>5. 対称性と保存則（Noetherの構造）</h2>

    <p>
      <b>対称性</b>とは「作用（最適化問題）が不変」な変換。
      その冗長性が<b>保存量</b>として現れる。
    </p>

    <div class="two">
      <div class="col">
        <h3>5.1 時間並進 → エネルギー</h3>
        <ul>
          <li>条件：L が t に明示的に依存しない（∂L/∂t = 0）</li>
          <li>保存量：</li>
        </ul>
        <div class="eq">
          <div class="mono">エネルギー（定義）：
E = q̇ (∂L/∂q̇) − L
保存：dE/dt = 0</div>
        </div>
        <p class="small">L=T−V で V が速度に依存しない場合、E=T+V。</p>
      </div>

      <div class="col">
        <h3>5.2 循環座標 → 共役運動量</h3>
        <ul>
          <li>条件：ある座標 q が L に現れない（∂L/∂q = 0）</li>
          <li>保存量：</li>
        </ul>
        <div class="eq">
          <div class="mono">共役運動量：
p := ∂L/∂q̇
保存：dp/dt = 0</div>
        </div>
        <p class="small">回転対称性なら角運動量がこの形で出る。</p>
      </div>
    </div>

    <p class="small">
      読み方の要点：保存則は「追加の法則」ではなく、
      <b>最適化問題の不変性（対称性）がある限り必然的に生じる</b>。
    </p>
  </div>

  <div class="box">
    <h2>6. 拘束（制約）と未定乗数</h2>

    <h3>6.1 ホロノミック拘束</h3>
    <p class="mono">拘束：f(q,t)=0</p>
    <p class="small">
      先に自由度を減らして座標化できる場合もあるが、
      一般には「拘束を作用に組み込む」方が構造が見える。
    </p>

    <h3>6.2 ラグランジュ未定乗数法</h3>
    <div class="eq">
      <div class="mono">拡張ラグランジアン：
L̃(q,q̇,λ,t) = L(q,q̇,t) + λ(t) f(q,t)

停留条件：
(1) δ/δλ から f(q,t)=0（拘束そのもの）
(2) δ/δq から運動方程式 + 拘束力項</div>
    </div>
    <p class="small">
      λ(t) は拘束力（例：張力・法線力）に対応する。
      拘束力を「力の分解で頑張って入れる」のではなく、
      停留条件が必要な分だけ自動で生成する、という見方が本質。
    </p>
  </div>

  <div class="box">
    <h2>7. 保存力・非保存力・散逸</h2>

    <h3>7.1 保存力（conservative）</h3>
    <ul>
      <li>位置だけのポテンシャル V(q) が存在：F = −∇V</li>
      <li>閉路の仕事が 0（経路に依らない）</li>
      <li>標準の作用原理（L=T−V）で閉じる</li>
    </ul>

    <h3>7.2 非保存力（non-conservative）</h3>
    <ul>
      <li>仕事が経路に依存、位置だけの V(q) が作れない（例：摩擦）</li>
      <li>機械的エネルギーは一般に保存しない</li>
      <li>小系だけを見ると「開いた系」になり、純粋な L(q,q̇,t) だけでは閉じない場合がある</li>
    </ul>

    <h3>7.3 速度比例摩擦の標準的な取り扱い（拡張）</h3>
    <p class="small">純粋な作用原理ではなく「散逸を追加したラグランジュ形式」を使う。</p>
    <div class="eq">
      <div class="mono">レイリー散逸関数：
R(q̇) = (1/2) γ q̇^2

修正ラグランジュ方程式：
d/dt(∂L/∂q̇) − ∂L/∂q = − ∂R/∂q̇</div>
    </div>
  </div>

  <div class="box">
    <h2>8. なぜ L は通常 q, q̇, t までか（高階微分の注意）</h2>
    <p>
      数学的には L(q,q̇,q̈,t) も書けるが、一般に
      <b>高階の運動方程式</b>になり、
      初期条件が増え、安定性問題（典型：オストログラドスキー型不安定）が生じやすい。
      物理として「因果的・局所的・安定」な記述を保つ最小が (q,q̇)。
    </p>
    <p class="small">
      例外：全微分 dF/dt を足す（境界項）場合は運動方程式を変えない。
      また高階項は「有効理論（近似）」として登場することがある。
    </p>
  </div>

  <div class="box">
    <h2>9. ハミルトン形式（最小の位置づけ）</h2>
    <p>
      ラグランジュ形式（q,q̇）から、位相空間（q,p）へ移す。
      ここで p は共役運動量。
    </p>

    <div class="eq">
      <div class="mono">共役運動量：
p := ∂L/∂q̇

ハミルトニアン（ルジャンドル変換）：
H(q,p,t) := p q̇ − L(q,q̇,t)
（右辺の q̇ は p と q で解けると仮定）</div>
    </div>

    <div class="eq">
      <div class="mono">ハミルトン方程式：
q̇ =  ∂H/∂p
ṗ = −∂H/∂q</div>
    </div>

    <p class="small">
      注意：H は一般に「最小化する量」ではない。
      役割は「時間発展を生成する量」および（条件付きで）「保存量（エネルギー）」。
    </p>
  </div>

  <div class="box">
    <h2>10. 量子との接続（理解の補助としての最小メモ）</h2>
    <p>
      古典の停留条件は、量子の「全経路和」の古典極限として解釈できる。
      位相が激しく回る経路は相殺し、停留近傍だけが残る、という直感は強力。
    </p>
    <div class="eq">
      <div class="mono">経路積分の重み（雰囲気）：
重み ~ exp(i S/ħ)

古典極限：ħ → 0 で位相が急速に変化
→ 停留位相（δS=0）近傍が主寄与</div>
    </div>
  </div>

  <div class="box">
    <h2>11. 問題を見た瞬間のチェックリスト（参照用）</h2>
    <ul>
      <li><span class="tag">自由度</span> 本当はいくつで、拘束で何が潰れているか。</li>
      <li><span class="tag">制約</span> ホロノミックか、時間依存か、拘束力は仕事をするか。</li>
      <li><span class="tag">保存/非保存</span> 位置だけのポテンシャルが定義できるか（状態量か）。</li>
      <li><span class="tag">対称性</span> L の不変性は何か（時間並進・回転・並進）。</li>
      <li><span class="tag">停留</span> 最小ではなく「一次が消える」を確認する。</li>
      <li><span class="tag">壊れ方</span> 摩擦・時間依存拘束で何が破れるか（エネルギー保存など）。</li>
    </ul>
  </div>

  <div class="box">
    <h2>12. 最小の式一覧（暗記ではなく参照用）</h2>
    <div class="mono">
L = L(q, q̇, t)
S[q] = ∫ L dt
停留：δS = 0

Euler-Lagrange：
d/dt(∂L/∂q̇_i) − ∂L/∂q_i = 0

共役運動量：
p_i = ∂L/∂q̇_i

（時間に明示依存なし）エネルギー：
E = Σ_i q̇_i (∂L/∂q̇_i) − L
dE/dt = 0

拘束 f(q,t)=0：
L̃ = L + λ f

散逸（速度比例）：
R = (1/2) Σ_i γ_i q̇_i^2
d/dt(∂L/∂q̇_i) − ∂L/∂q_i = −∂R/∂q̇_i

ハミルトニアン：
H = Σ_i p_i q̇_i − L
q̇_i = ∂H/∂p_i
ṗ_i = −∂H/∂q_i
    </div>
  </div>

  <p class="small">
    備考：このノートは「本質を忘れない」ための参照用。
    計算練習は別紙で、例題をこのチェックリストに沿って読むと定着が速い。
  </p>
</body>
</html>